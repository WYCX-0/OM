{"version":3,"file":"spare.js","sources":["pages/spare/spare.vue","../../software/Hbuilder/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvc3BhcmUvc3BhcmUudnVl"],"sourcesContent":["<template>\r\n\t<view class=\"container\">\r\n\t\t<view class=\"form-card\">\r\n\t\t\t<view class=\"form-item\">\r\n\t\t\t\t<text class=\"form-label\">备件详情：</text>\r\n\t\t\t\t<textarea v-model=\"form.detail\" placeholder=\"请输入备件详细信息\" class=\"form-textarea\" auto-height></textarea>\r\n\t\t\t</view>\r\n\t\t\t<button class=\"submit-button\" hover-class=\"button-hover\" @click=\"submitApplication\">\r\n\t\t\t\t提交申请\r\n\t\t\t</button>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tbaseConfig\r\n\t} from '../../utils/config';\r\n\r\n\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tform: {\r\n\t\t\t\t\torderId: '',\r\n\t\t\t\t\tdetail: ''\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t},\r\n\t\tonLoad(options) {\r\n\t\t\tthis.form.orderId = options.orderId;\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tasync submitApplication() {\r\n\t\t\t\tif (!this.form.detail.trim()) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请填写备件详情',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst token = uni.getStorageSync('token');\r\n\t\t\t\tconst res = await uni.request({\r\n\t\t\t\t\turl: `${baseConfig.baseUrl}/engineer/spare/add`,\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\theader: {\r\n\t\t\t\t\t\t'Authorization': `Bearer ${token}`,\r\n\t\t\t\t\t\t'Content-Type': 'application/json'\r\n\t\t\t\t\t},\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tfailId: this.form.orderId,\r\n\t\t\t\t\t\tdetail: this.form.detail\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif (res.data.code === 200) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '申请提交成功',\r\n\t\t\t\t\t\ticon: 'success'\r\n\t\t\t\t\t});\r\n\r\n\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tuni.navigateBack();\r\n\t\t\t\t\t}, 1500);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: res.data.msg || '提交失败',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style scoped>\r\n\t.container {\r\n\t\tpadding: 20rpx;\r\n\t\tbackground-color: #f5f7fa;\r\n\t\tmin-height: 100vh;\r\n\t}\r\n\r\n\t.form-card {\r\n\t\tbackground-color: white;\r\n\t\tborder-radius: 16rpx;\r\n\t\tpadding: 30rpx;\r\n\t\tmargin: 20rpx;\r\n\t}\r\n\r\n\t.form-item {\r\n\t\tmargin-bottom: 30rpx;\r\n\t}\r\n\r\n\t.form-label {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #333;\r\n\t\tdisplay: block;\r\n\t\tmargin-bottom: 10rpx;\r\n\t}\r\n\r\n\t.form-textarea {\r\n\t\twidth: 100%;\r\n\t\tmin-height: 200rpx;\r\n\t\tpadding: 20rpx;\r\n\t\tborder: 1rpx solid #ddd;\r\n\t\tborder-radius: 8rpx;\r\n\t\tfont-size: 28rpx;\r\n\t}\r\n\r\n\t.submit-button {\r\n\t\tbackground: #1890ff;\r\n\t\tcolor: white;\r\n\t\tborder-radius: 8rpx;\r\n\t\tmargin-top: 40rpx;\r\n\t}\r\n\r\n\t.button-hover {\r\n\t\topacity: 0.8;\r\n\t}\r\n</style>","import MiniProgramPage from 'D:/app/om-engineer/pages/spare/spare.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni","baseConfig"],"mappings":";;;AAoBC,MAAK,YAAU;AAAA,EACd,OAAO;AACN,WAAO;AAAA,MACN,MAAM;AAAA,QACL,SAAS;AAAA,QACT,QAAQ;AAAA,MACT;AAAA;EAED;AAAA,EACD,OAAO,SAAS;AACf,SAAK,KAAK,UAAU,QAAQ;AAAA,EAC5B;AAAA,EACD,SAAS;AAAA,IACR,MAAM,oBAAoB;AACzB,UAAI,CAAC,KAAK,KAAK,OAAO,KAAI,GAAI;AAC7BA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,MAAM;AAAA,QACP,CAAC;AACD;AAAA,MACD;AAEA,YAAM,QAAQA,cAAAA,MAAI,eAAe,OAAO;AACxC,YAAM,MAAM,MAAMA,cAAG,MAAC,QAAQ;AAAA,QAC7B,KAAK,GAAGC,wBAAW,OAAO;AAAA,QAC1B,QAAQ;AAAA,QACR,QAAQ;AAAA,UACP,iBAAiB,UAAU,KAAK;AAAA,UAChC,gBAAgB;AAAA,QAChB;AAAA,QACD,MAAM;AAAA,UACL,QAAQ,KAAK,KAAK;AAAA,UAClB,QAAQ,KAAK,KAAK;AAAA,QACnB;AAAA,MACD,CAAC;AAED,UAAI,IAAI,KAAK,SAAS,KAAK;AAC1BD,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,MAAM;AAAA,QACP,CAAC;AAGD,mBAAW,MAAM;AAChBA,wBAAG,MAAC,aAAY;AAAA,QAChB,GAAE,IAAI;AAAA,aACD;AACNA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO,IAAI,KAAK,OAAO;AAAA,UACvB,MAAM;AAAA,QACP,CAAC;AAAA,MACF;AAAA,IACD;AAAA,EACD;;;;;;;;;;ACxEF,GAAG,WAAW,eAAe;"}